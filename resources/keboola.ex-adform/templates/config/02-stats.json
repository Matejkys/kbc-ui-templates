{
  "name": "Campaign stats",
  "description": "Get Campaigns, Advertisers and Campaigns Stats (Reporting Stats). Only last 3000 records from the Reporting Stats will be downloaded.",
  "data": {
    "incrementalOutput": true,
    "jobs": [
      {
        "endpoint": "campaigns",
        "scroller": "campaign_cursor",
        "params": [],
        "dataType": "campaigns",
        "dataField": "campaigns"
      },
      {
        "endpoint": "/Services/Advertiser/Advertisers",
        "params": [],
        "dataType": "clients",
        "dataField": "Advertisers"
      },
      {
        "endpoint": "reportingstats/agency/reportdata",
        "method": "POST",
        "params": {
          "dimensions": [
            "client",
            "campaignID",
            "date"
          ],
          "metrics": [
            "impressions",
            "clicks",
            "ctr",
            "conversionsAll",
            "ecpm"
          ],
          "filter": {
            "date": "PastThirtyDays"
          },
          "paging": {
            "offset": 0,
            "limit": 3000
          },
          "sort": [
            {
              "dimension": "date",
              "direction": "desc"
            }
          ]
        },
        "dataType": "metrics",
        "dataField": "reportData.rows"
      }
    ],
    "mappings": {
      "campaigns": {
        "id": {
          "mapping": {
            "destination": "id",
            "primaryKey": true
          }
        },
        "type": "type",
        "code": "code",
        "name": "name",
        "client": "client",
        "clientId": "clientId",
        "budget": "budget",
        "currency": "currency",
        "managerId": "managerId",
        "coManagerId": "coManagerId",
        "startDate": "startDate",
        "endDate": "endDate",
        "state": "state",
        "timeZoneOffsetHours": "timeZoneOffsetHours",
        "status": "status",
        "defaultCrossDeviceTargetingEnabled": "defaultCrossDeviceTargetingEnabled",
        "rtbSettings_budget": "rtbSettings_budget",
        "rtbSettings_budgetGoalType": "rtbSettings_budgetGoalType",
        "rtbSettings_budgetPeriodType": "rtbSettings_budgetPeriodType"
      },
      "clients": {
        "Id": {
          "mapping": {
            "destination": "Id",
            "primaryKey": true
          }
        },
        "AgencyId": "AgencyId",
        "Name": "Name",
        "TimeZoneName": "TimeZoneName"
      },
      "metrics": {
        "1": {
          "type": "column",
          "mapping": {
            "destination": "campaignID",
            "primaryKey": true
          }
        },
        "2": {
          "type": "column",
          "mapping": {
            "destination": "date",
            "primaryKey": true
          }
        },
        "3": {
          "type": "column",
          "mapping": {
            "destination": "impressions"
          }
        },
        "4": {
          "type": "column",
          "mapping": {
            "destination": "clicks"
          }
        },
        "5": {
          "type": "column",
          "mapping": {
            "destination": "ctr"
          }
        },
        "6": {
          "type": "column",
          "mapping": {
            "destination": "conversionsAll"
          }
        },
        "7": {
          "type": "column",
          "mapping": {
            "destination": "ecpm"
          }
        }
      }
    }
  }
}