{
    "name":"Carts",
    "description":"Return list of  carts that match specified search criteria.",
    "data":{
        "incrementalOutput": true,
        "outputBucket":"magento",
        "jobs":[
            {
                "endpoint":"carts/search",
                "dataType":"carts",
                "dataField":"items"
            }
        ],
        "mappings":{
            "carts":{
                "id":{
                    "mapping":{
                        "destination":"id",
                        "primaryKey":true
                    }
                },
                "created_at":{
                    "type":"column",
                    "mapping":{"destination":"created_at"}
                },
                "updated_at":{
                    "type":"column",
                    "mapping":{"destination":"updated_at"}
                },
                "is_active":{
                    "type":"column",
                    "mapping":{"destination":"is_active"}
                },
                "is_virtual":{
                    "type":"column",
                    "mapping":{"destination":"is_virtual"}
                },
                "items":{
                    "type":"table",
                    "destination":"carts-items",
                    "tableMapping":{
                        "item_id":{
                            "mapping":{
                                "destination":"item_id",
                                "primaryKey":true
                            }
                        },
                        "sku":{
                            "mapping":{
                                "destination":"sku",
                                "primaryKey":true
                            }
                        },
                        "qty":{
                            "type":"column",
                            "mapping":{"destination":"qty"}
                        },
                        "name":{
                            "type":"column",
                            "mapping":{"destination":"name"}
                        },
                        "price":{
                            "type":"column",
                            "mapping":{"destination":"price"}
                        },
                        "product_type":{
                            "type":"column",
                            "mapping":{"destination":"product_type"}
                        },
                        "quote_id":{
                            "type":"column",
                            "mapping":{"destination":"quote_id"}
                        }
                    }
                },
                "items_count":{
                    "type":"column",
                    "mapping":{"destination":"items_count"}
                },
                "items_qty":{
                    "type":"column",
                    "mapping":{"destination":"items_qty"}
                },
                "customer.id":{
                    "type":"column",
                    "mapping":{"destination":"customer_id"}
                },
                "customer.email":{
                    "type":"column",
                    "mapping":{"destination":"email"}
                },
                "customer.firstname":{
                    "type":"column",
                    "mapping":{"destination":"firstname"}
                },
                "customer.lastname":{
                    "type":"column",
                    "mapping":{"destination":"lastname"}
                },
                "orig_order_id":{
                    "type":"column",
                    "mapping":{"destination":"orig_order_id"}
                },
                "currency.global_currency_code":{
                    "type":"column",
                    "mapping":{"destination":"currency_code"}
                },
                "customer_is_guest":{
                    "type":"column",
                    "mapping":{"destination":"customer_is_guest"}
                },
                "customer_note_notify":{
                    "type":"column",
                    "mapping":{"destination":"customer_note_notify"}
                },
                "customer_tax_class_id":{
                    "type":"column",
                    "mapping":{"destination":"customer_tax_class_id"}
                },
                "store_id":{
                    "type":"column",
                    "mapping":{"destination":"store_id"}
                }
            }
        }
    }
}